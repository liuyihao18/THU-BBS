# 数据库

**USER**

  ```sql
  CREATE TABLE USER
  (
      userid      interger,
      email       varchar(64) unique,
      nickname    varchar(64),
      password    varchar(128),
      headshot    varchar(256),
      description varchar(512),
      primary key (userid)
  )
  ```

**RELATION**

```sql
CREATE TABLE RELATION
(
    followee integer,
    follower integer,
    foreign key (followee) references USER on delete cascade,
    foreign key (follower) references USER on delete cascade,
    primary key (followee, follower)
)
```

**BLACKLIST**

```sql
CREATE TABLE BLACKLIST
(
    userid  integer, # 屏蔽的人
    blackid integer, # 被屏蔽的人
    primary key (userid, blackid)
    foreign key (userid) references USER on delete cascade,
    foreign key (blackid) references USER on delete cascade,
)
```

**TWEET**

```sql
CREATE TABLE TWEET
(
    tweetid      integer,
    userid       integer,
    type         integer,
    isdraft      bool,
    content      varchar(512),
    location     varchar(64),
    lastmodified datetime,
    primary key (tweetid),
    foreign key (userid) references USER on delete cascade
)
```

**LIKE**

```sql
CREATE TABLE LIKE
(
    tweetid integer,
    userid  integer,
    primary key (tweetid, userid),
    foreign key (tweetid) references TWEET on delete cascade,
    foreign key (userid) references USER on delete cascade
)
```

**PICTURE**

```sql
CREATE TABLE PICTURE
(
    tweetid integer,
    path    varchar(256),
    order   integer,
    primary key (tweetid, order),
    foreign key (tweetid) references TWEET on delete cascade
)
```

**AUDIO**

```sql
CREATE TABLE AUDIO
(
    tweetid integer,
    path    varchar(256),
    order   integer,
    primary key (tweetid, order),
    foreign key (tweetid) references TWEET on delete cascade
)
```

**VIDEO**

```sql
CREATE TABLE VIDEO
(
    tweetid integer,
    path    varchar(256),
    primary key (tweetid),
    foreign key (tweetid) references TWEET on delete cascade
)
```

**COMMENT**

```sql
CREATE TABLE COMMENT
(
    commentid integer,
    tweetid   integer,
    userid    integer,
    content   varchar(128),
    primary key (commentid),
    foreign key (tweetid) references TWEET on delete cascade,
    foreign key (userid) references USER on delete cascade
)
```

**MESSAGE**

```sql
CREATE TABLE MESSAGE
(
    messageid   integer,
    userid      integer,
    content     varchar(128),
    messagetime datetime,
    tweetid     integer,
    primary key (messageid),
    foreign key (userid) references USER on delete cascade,
    foreign key (tweetid) references TWEET on delete cascade
)
```

